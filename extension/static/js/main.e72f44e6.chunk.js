(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),m=a(10),o=a(20),s=a(7),i=a(2),u=a(3),d=a(9),p=a(14),E=a(1),y={ADD_CREDIT:"ADD_CREDIT",CHANGE_CREDIT:"CHANGE_CREDIT",REMOVE_CREDIT:"REMOVE_CREDIT",SELECT_CREDIT:"SELECT_CREDIT",RENAME_CREDIT:"RENAME_CREDIT",CALCULATE:"CALCULATE",MARK_SAVED:"MARK_SAVED"},f={addCredit:function(){return{type:y.ADD_CREDIT}},removeCredit:function(e){return{type:y.REMOVE_CREDIT,payload:{id:e}}},selectCredit:function(e){return{type:y.SELECT_CREDIT,payload:{id:e}}},changeCredit:function(e,t){return{type:y.CHANGE_CREDIT,payload:{field:e,value:t}}},renameCredit:function(e,t){return{type:y.RENAME_CREDIT,payload:{id:e,name:t}}},calculate:function(){return{type:y.CALCULATE}},markSaved:function(){return{type:y.MARK_SAVED}},saveChanges:function(){return function(e,t){chrome.storage.local.set({state:t()},function(){return e(f.markSaved())})}}},v=function(e){return e.credits},h=function(e){return e.selectedId},b=function(e){return e.credits[e.selectedId]},N=function(e){return e.calculation},g=function(e){return e.modified},C={credits:[O(),O(),O()],selectedId:0,calculation:{error:null,data:[]},modified:!1};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(Object.values(y).includes(t.type)&&t.type!==y.MARK_SAVED&&(e=Object(E.a)({},e,{modified:!0})),t.type){case y.ADD_CREDIT:var a=[].concat(Object(p.a)(e.credits),[O()]);return Object(E.a)({},e,{credits:a});case y.REMOVE_CREDIT:var n=t.payload.id,r=Object(p.a)(e.credits);if(r.length>1){r.splice(n,1);var l=e.selectedId;return l>=n&&(l=Math.max(0,l-1)),Object(E.a)({},e,{credits:r,selectedId:l})}return e;case y.SELECT_CREDIT:var c=t.payload.id,m=j(e.credits[c]);return Object(E.a)({},e,{selectedId:c,calculation:m});case y.CHANGE_CREDIT:var o=t.payload,s=o.field,i=o.value,u=e.selectedId,f=e.credits.slice();return f[u]=Object(E.a)({},f[u],Object(d.a)({},s,i)),Object(E.a)({},e,{credits:f});case y.RENAME_CREDIT:var v=t.payload,h=v.id,b=v.name,N=Object(p.a)(e.credits);return N[h]=Object(E.a)({},N[h],{meta:Object(E.a)({},N[h].meta,{name:b})}),Object(E.a)({},e,{credits:N});case y.CALCULATE:var g=j(e.credits[e.selectedId]);return Object(E.a)({},e,{calculation:g});case y.MARK_SAVED:return Object(E.a)({},e,{modified:!1});default:return e}}function O(){return{sum:"2224000",monthsNum:"84",startDate:"2019-04-29",percent:"10.8",paymentType:"annuity",paymentDay:"issue_day",payments:[{key:Math.random().toString(36).slice(2),period:"0",reduceType:"reduce_period",startDate:"2019-05-21",sum:"42700",nextPaymentType:"only_interest"}],meta:{key:Math.random().toString(36).slice(2),name:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442",date:(new Date).toISOString()}}}var x=function(){function e(){Object(i.a)(this,e),this.DAYS_IN_MONTH=[31,void 0,31,30,31,30,31,31,30,31,30,31]}return Object(u.a)(e,[{key:"isLeapYear",value:function(e){return e%4===0&&e%100!==0||e%400===0}},{key:"daysInMonth",value:function(e,t){return 1!==e?this.DAYS_IN_MONTH[e]:this.isLeapYear(t)?29:28}},{key:"daysInYear",value:function(e){return this.isLeapYear(e)?366:365}},{key:"nextDate",value:function(e,t){var a=e.getFullYear(),n=e.getMonth()+1,r=Math.min(t,this.daysInMonth(n%12,e.getFullYear()));return new Date(a,n,r)}},{key:"calculate",value:function(e){if(!e.sum||!e.monthsNum||!e.percent||!e.startDate||e.payments.some(function(e){return!e.startDate||!e.sum}))throw Error("\u041d\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b");var t=parseInt(e.monthsNum,10),a=new Date(e.startDate),n=null;switch(e.paymentDay){case"issue_day":n=a.getDate();break;case"last_day_of_month":n=31;break;default:n=parseInt(e.paymentDay,10)}for(var r=[],l=1,c=new Date(a);l<=t;++l)c=this.nextDate(c,n),r.push({type:"regular",date:c,index:l});var m=r[r.length-1].date,o=!0,s=!1,i=void 0;try{for(var u,d=e.payments[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var p=u.value,E=new Date(p.startDate);n=E.getDate();for(var y=parseInt(p.sum,10),f=parseInt(p.period,10),v=p.reduceType,h=p.nextPaymentType;E<m&&(r.push({type:"extra",date:E,sum:y,reduceType:v,nextPaymentType:h}),f>0);)for(var b=0;b<f;++b)E=this.nextDate(E,n)}}catch(C){s=!0,i=C}finally{try{o||null==d.return||d.return()}finally{if(s)throw i}}r.sort(function(e,t){return e.date-t.date});var N=parseInt(e.sum,10),g=parseFloat(e.percent)/100;return"annuity"===e.paymentType?this.calcAnnuity(N,t,g,a,r):this.calcDifferentiated(N,t,g,a,r)}},{key:"calcAnnuityPMT",value:function(e,t,a){var n=a/12;return parseFloat((e*(n+n/(Math.pow(1+n,t)-1))).toFixed(2))}},{key:"calcAnnuity",value:function(e,t,a,n,r){var l,c=this.calcAnnuityPMT(e,t,a),m=new Date(n),o=0,s=1,i=!1;r=r.map(function(e){return Object(E.a)({},e)});var u=!0,d=!1,p=void 0;try{for(var y,f=r[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var v=y.value;if(e<=0)break;for(;+m<+v.date;)m.setDate(m.getDate()+1),o+=e*a/this.daysInYear(m.getFullYear());"extra"===v.type&&v.sum<o?v.error="\u0412\u043d\u0435\u0441\u0435\u043d\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043b\u044f \u0443\u043f\u043b\u0430\u0442\u044b \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432. \u041f\u043b\u0430\u0442\u0435\u0436 \u043d\u0435 \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d.":(o=parseFloat(o.toFixed(2)),e-=l=i?0:Math.min((v.sum||c)-o,e),Object.assign(v,{interest:o,loan:l,total:o+l,balance:e}),o=0,"regular"===v.type?(s=v.index,i=!1):("reduce_sum"===v.reduceType&&(c=this.calcAnnuityPMT(e,t-s,a)),"only_interest"===v.nextPaymentType&&(i=!0)))}}catch(b){d=!0,p=b}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}if(e>0){var h=r[r.length-1];h.loan+=e,h.total+=e,h.balance=0}return r.filter(function(e){return!!e.total}).map(function(e){return Object(E.a)({},e,{date:e.date.toISOString()})})}},{key:"calcDifferentiated",value:function(e,t,a,n,r){var l=parseFloat((e/t).toFixed(2)),c=new Date(n),m=0,o=1,s=!1;r=r.map(function(e){return Object(E.a)({},e)});var i=!0,u=!1,d=void 0;try{for(var p,y=r[Symbol.iterator]();!(i=(p=y.next()).done);i=!0){var f=p.value;if(e<=0)break;for(;+c<+f.date;)c.setDate(c.getDate()+1),m+=e*a/this.daysInYear(c.getFullYear());m=parseFloat(m.toFixed(2));var v=null;if("regular"===f.type)v=s?0:Math.min(l,e);else{if(f.sum<m){f.error="\u0412\u043d\u0435\u0441\u0435\u043d\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043b\u044f \u0443\u043f\u043b\u0430\u0442\u044b \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432. \u041f\u043b\u0430\u0442\u0435\u0436 \u043d\u0435 \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d.";continue}v=Math.min(f.sum-m,e)}e-=v,Object.assign(f,{interest:m,loan:v,total:m+v,balance:e}),m=0,"regular"===f.type?(o=f.index,s=!1):("reduce_sum"===f.reduceType&&(l=parseFloat((e/(t-o)).toFixed(2))),"only_interest"===f.nextPaymentType&&(s=!0))}}catch(b){u=!0,d=b}finally{try{i||null==y.return||y.return()}finally{if(u)throw d}}if(e>0){var h=r[r.length-1];h.loan+=e,h.total+=e,h.balance=0}return r.filter(function(e){return!!e.total}).map(function(e){return Object(E.a)({},e,{date:e.date.toISOString()})})}}]),e}();function j(e){try{return{error:null,data:(new x).calculate(e)}}catch(t){return{error:t,data:[]}}}var T=a(6),k=a(4),I=a(5),_=a(22),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(T.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=e.target.name,n="checkbox"===e.target.type?e.target.checked:e.target.value;a.props.changeCredit(t,n)},a.addPayment=function(){var e=a.props.credit.payments.slice();e.push({key:Math.random().toString(36).slice(2),period:"",recalc:"1",date:"",next:"0",sum:""}),a.onChange({target:{name:"payments",value:e}})},a.removePayment=function(e){var t=parseInt(e.currentTarget.dataset.id,10),n=a.props.credit.payments.slice();n.splice(t,1),a.onChange({target:{name:"payments",value:n}})},a.changePayment=function(e){var t=e.target.name.split("."),n=Object(_.a)(t,3),r=(n[0],n[1]),l=n[2],c=a.props.credit.payments.slice(),m=parseInt(r,10);c[m]=Object(E.a)({},c[m],Object(d.a)({},l,e.target.value)),a.onChange({target:{name:"payments",value:c}})},a.onSubmit=function(e){e.preventDefault(),a.props.calculate()},a}return Object(I.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.credit;return r.a.createElement("form",{id:"form"},r.a.createElement("div",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"sum"},"\u0421\u0443\u043c\u043c\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u0430 (\u0440\u0443\u0431.)")),r.a.createElement("div",{className:"col-8 col-sm-12 d-flex"},r.a.createElement("input",{required:!0,type:"number",min:"0",step:"1",name:"sum",id:"sum",className:"form-input",value:t.sum,onChange:this.onChange}),r.a.createElement("span",{className:"ml-2 text-nowrap"},"\u0440\u0443\u0431\u043b\u0435\u0439"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"monthsNum"},"\u0421\u0440\u043e\u043a \u043a\u0440\u0435\u0434\u0438\u0442\u0430")),r.a.createElement("div",{className:"col-8 col-sm-12 d-flex"},r.a.createElement("input",{required:!0,type:"number",min:"0",step:"1",name:"monthsNum",id:"monthsNum",className:"form-input",value:t.monthsNum,onChange:this.onChange}),r.a.createElement("span",{className:"ml-2 text-nowrap"},"\u043c\u0435\u0441\u044f\u0446\u0435\u0432"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"startDate"},"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u0430")),r.a.createElement("div",{className:"col-8 col-sm-12"},r.a.createElement("input",{required:!0,type:"date",id:"startDate",name:"startDate",className:"form-input",value:t.startDate,onChange:this.onChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"percent"},"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430")),r.a.createElement("div",{className:"col-8 col-sm-12 d-flex"},r.a.createElement("input",{required:!0,type:"number",min:"0",step:"0.1",name:"percent",id:"percent",className:"form-input",value:t.percent,onChange:this.onChange}),r.a.createElement("span",{className:"ml-2 text-nowrap"},"% \u0433\u043e\u0434\u043e\u0432\u044b\u0445"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"paymentType"},"\u0412\u0438\u0434 \u043f\u043b\u0430\u0442\u0435\u0436\u0430")),r.a.createElement("div",{className:"col-8 col-sm-12"},r.a.createElement("label",{className:"form-radio form-inline tooltip","data-tooltip":"\u0410\u043d\u043d\u0443\u0438\u0442\u0435\u0442\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 \u2013 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0443, \u043a\u043e\u0433\u0434\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u043c \u043d\u0430 \u0432\u0441\u0451\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432\u0430\u043d\u0438\u044f."},r.a.createElement("input",{type:"radio",name:"paymentType",value:"annuity",checked:"annuity"===t.paymentType,onChange:this.onChange}),r.a.createElement("i",{className:"form-icon"})," \u0410\u043d\u043d\u0443\u0438\u0442\u0435\u0442\u043d\u044b\u0439"),r.a.createElement("label",{className:"form-radio form-inline tooltip","data-tooltip":"\u0414\u0438\u0444\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 \u2013 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043f\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0443, \u043a\u043e\u0433\u0434\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043f\u043e \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044e \u043a\u0440\u0435\u0434\u0438\u0442\u0430 \u043f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442\u0441\u044f \u043a \u043a\u043e\u043d\u0446\u0443 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432\u0430\u043d\u0438\u044f."},r.a.createElement("input",{type:"radio",name:"paymentType",value:"differentiated",checked:"differentiated"===t.paymentType,onChange:this.onChange}),r.a.createElement("i",{className:"form-icon"})," \u0414\u0438\u0444\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"paymentDay"},"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0438")),r.a.createElement("div",{className:"col-8 col-sm-12"},r.a.createElement("select",{name:"paymentDay",className:"form-select",value:t.paymentDay,onChange:this.onChange},r.a.createElement("option",{value:"issue_day"},"\u0432 \u0434\u0435\u043d\u044c \u0432\u044b\u0434\u0430\u0447\u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u0430"),r.a.createElement("option",{value:"last_day_of_month"},"\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0434\u0435\u043d\u044c \u043c\u0435\u0441\u044f\u0446\u0430"),Array.from({length:28},function(e,t){return r.a.createElement("option",{key:t+1,value:t+1},t+1,"-\u0435 \u0447\u0438\u0441\u043b\u043e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430")}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},"\u0414\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0435 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),t.payments.map(function(t,a){return r.a.createElement("div",{key:t.key,className:"payment d-flex"},r.a.createElement("div",{className:"payment-id mr-2"},a+1,"."),r.a.createElement("div",{key:t.key,className:"payment-fields columns"},r.a.createElement("div",{className:"column col-3"},r.a.createElement("select",{name:"payment.".concat(a,".period"),className:"form-select",value:t.period,onChange:e.changePayment},r.a.createElement("option",{value:"0"},"\u0420\u0430\u0437\u043e\u0432\u044b\u0439"),r.a.createElement("option",{value:"1"},"\u0420\u0430\u0437 \u0432 \u043c\u0435\u0441\u044f\u0446"),r.a.createElement("option",{value:"2"},"\u0420\u0430\u0437 \u0432 2 \u043c\u0435\u0441\u044f\u0446\u0430"),r.a.createElement("option",{value:"3"},"\u0420\u0430\u0437 \u0432 3 \u043c\u0435\u0441\u044f\u0446\u0430"),r.a.createElement("option",{value:"6"},"\u0420\u0430\u0437 \u0432 \u043f\u043e\u043b\u0433\u043e\u0434\u0430"),r.a.createElement("option",{value:"12"},"\u0420\u0430\u0437 \u0432 \u0433\u043e\u0434"))),r.a.createElement("div",{className:"column col-5"},r.a.createElement("select",{name:"payment.".concat(a,".reduceType"),className:"form-select",value:t.reduceType,onChange:e.changePayment},r.a.createElement("option",{value:"reduce_period"},"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u043a\u0440\u0435\u0434\u0438\u0442\u0430"),r.a.createElement("option",{value:"reduce_sum"},"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"))),r.a.createElement("div",{className:"column col-4 d-flex"},r.a.createElement("input",{required:!0,type:"date",name:"payment.".concat(a,".startDate"),className:"form-input",value:t.startDate,onChange:e.changePayment}),r.a.createElement("button",{type:"button",className:"btn btn-action ml-2",onClick:e.removePayment,"data-id":a},r.a.createElement("i",{className:"icon icon-cross"}))),r.a.createElement("div",{className:"column col-3 mt-2"},r.a.createElement("input",{required:!0,type:"number",min:"0",step:"1",name:"payment.".concat(a,".sum"),className:"form-input",placeholder:"\u0421\u0443\u043c\u043c\u0430",value:t.sum,onChange:e.changePayment})),r.a.createElement("div",{className:"column col-9 mt-2"},r.a.createElement("select",{name:"payment.".concat(a,".nextPaymentType"),className:"form-select",value:t.nextPaymentType,onChange:e.changePayment},r.a.createElement("option",{value:"no_changes"},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 - \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439"),r.a.createElement("option",{value:"only_interest"},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 - \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u044b")))))}),r.a.createElement("button",{type:"button",id:"add-button",className:"btn btn-link btn-sm",onClick:this.addPayment},r.a.createElement("i",{className:"icon icon-plus"})," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436")),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-4 col-sm-12"},r.a.createElement("label",{className:"form-label"})),r.a.createElement("div",{className:"col-8 col-sm-12"},r.a.createElement("button",{type:"submit",id:"submit-button",className:"btn btn-primary",onClick:this.onSubmit},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c")))))}}]),t}(r.a.Component),A={changeCredit:f.changeCredit,calculate:f.calculate},M=Object(s.b)(function(e){return{credit:b(e)}},A)(R);function S(e){return("0"+(e=new Date(e)).getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+e.getFullYear()}var F,w=function(e){function t(){return Object(i.a)(this,t),Object(T.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.calculation;if(e.error)return r.a.createElement("div",{id:"error",className:"toast toast-error"},e.error.toString());if(0===e.data.length)return null;var t=e.data.reduce(function(e,t){return e+t.loan||0},0).toFixed(2),a=e.data.reduce(function(e,t){return e+t.interest||0},0).toFixed(2),n=e.data.reduce(function(e,t){return e+t.total||0},0).toFixed(2),l=0;return r.a.createElement("div",{id:"table-wrapper"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u2116"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430"),r.a.createElement("th",null,"\u041f\u043b\u0430\u0442\u0435\u0436 \u043f\u043e \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u0434\u043e\u043b\u0433\u0443"),r.a.createElement("th",null,"\u041f\u043b\u0430\u0442\u0435\u0436 \u043f\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430\u043c"),r.a.createElement("th",null,"\u0421\u0443\u043c\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),r.a.createElement("th",null,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u043b\u0433\u0430"))),r.a.createElement("tbody",null,e.data.map(function(e,t){return e.error?r.a.createElement("tr",{key:t,className:"text-error"},r.a.createElement("td",null,"regular"===e.type?++l:null),r.a.createElement("td",null,S(e.date)),r.a.createElement("td",{colSpan:4},e.error)):r.a.createElement("tr",{key:t,className:"extra"===e.type?"text-success":null},r.a.createElement("td",null,"regular"===e.type?++l:null),r.a.createElement("td",null,S(e.date)),r.a.createElement("td",null,e.loan.toFixed(2)),r.a.createElement("td",null,e.interest.toFixed(2)),r.a.createElement("td",null,e.total.toFixed(2)),r.a.createElement("td",null,e.balance.toFixed(2)))}),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("span",{className:"text-bold"},t),r.a.createElement("br",null),r.a.createElement("span",{className:"text-gray"},"(\u0421\u0443\u043c\u043c\u0430 \u0432\u044b\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u043b\u0433\u0430)")),r.a.createElement("td",null,r.a.createElement("span",{className:"text-bold"},a),r.a.createElement("br",null),r.a.createElement("span",{className:"text-gray"},"(\u0421\u0443\u043c\u043c\u0430 \u0432\u044b\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432)")),r.a.createElement("td",null,r.a.createElement("span",{className:"text-bold"},n),r.a.createElement("br",null),r.a.createElement("span",{className:"text-gray"},"(\u0412\u044b\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0432\u0441\u0435\u0433\u043e)")),r.a.createElement("td",null)))))}}]),t}(r.a.Component),P=Object(s.b)(function(e){return{calculation:N(e)}},null)(w),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(T.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpened:!1},a.toggleModal=function(){return a.setState(function(e){return{modalOpened:!e.modalOpened}})},a.onSelect=function(){return a.props.onSelect(a.props.index)},a.onRemove=function(){return a.props.onRemove(a.props.index)},a.onRename=function(e){e.preventDefault(),a.props.onRename(a.props.index,e.target.elements[0].value),a.toggleModal()},a}return Object(I.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.credit,n=t.active;return r.a.createElement("li",{key:a.meta.key,className:"menu-item c-hand"},r.a.createElement("a",{className:n?"active":void 0,onClick:this.onSelect},a.meta.name),r.a.createElement("div",{className:"menu-badge"},r.a.createElement("span",{className:"text-gray mr-2",onClick:this.onSelect},(e=a.meta.date,("0"+(e=new Date(e)).getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2))),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-action mr-1",onClick:this.toggleModal},r.a.createElement("i",{className:"icon icon-edit"})),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-action",onClick:this.onRemove},r.a.createElement("i",{className:"icon icon-cross"}))),this.state.modalOpened&&r.a.createElement("div",{className:"modal active"},r.a.createElement("span",{className:"modal-overlay",onClick:this.toggleModal}),r.a.createElement("form",{className:"modal-container",onSubmit:this.onRename},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title h5"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{required:!0,type:"text",className:"form-input",defaultValue:a.meta.name})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.toggleModal},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))))}}]),t}(r.a.Component),Y=function(e){function t(){return Object(i.a)(this,t),Object(T.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{id:"credits-list",className:"menu"},r.a.createElement("li",{className:"menu-item"},r.a.createElement("h3",null,"\u0420\u0430\u0441\u0447\u0435\u0442\u044b"),r.a.createElement("span",{id:"app-version",className:"text-gray"},"1.0.0")),r.a.createElement("li",{className:"divider"}),this.props.credits.map(function(t,a){return r.a.createElement(L,{key:t.meta.key,credit:t,index:a,active:a===e.props.selectedId,onSelect:e.props.selectCredit,onRemove:e.props.removeCredit,onRename:e.props.renameCredit})}),r.a.createElement("li",{className:"divider"}),r.a.createElement("li",{className:"menu-item c-hand"},r.a.createElement("a",{onClick:this.props.addCredit},r.a.createElement("i",{className:"icon icon-plus"})," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442")),this.props.modified&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"divider"}),r.a.createElement("li",{className:"menu-item c-hand"},r.a.createElement("a",{onClick:this.props.saveChanges},r.a.createElement("i",{className:"icon icon-check"})," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"))))}}]),t}(r.a.Component),V={addCredit:f.addCredit,removeCredit:f.removeCredit,selectCredit:f.selectCredit,renameCredit:f.renameCredit,saveChanges:f.saveChanges},q=Object(s.b)(function(e){return{credits:v(e),selectedId:h(e),modified:g(e)}},V)(Y),H=(a(32),function(e){function t(){return Object(i.a)(this,t),Object(T.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-8"},r.a.createElement(M,null)),r.a.createElement("div",{className:"column col-4"},r.a.createElement(q,null)),r.a.createElement("div",{className:"column col-12"},r.a.createElement(P,null)))}}]),t}(r.a.Component));F=function(e){var t=document.getElementById("root");c.a.render(r.a.createElement(s.a,{store:e},r.a.createElement(H,null)),t)},chrome.storage.local.get("state",function(e){console.log(e.state),F(Object(m.c)(D,e.state,Object(m.a)(o.a)))})}},[[23,1,2]]]);
//# sourceMappingURL=main.e72f44e6.chunk.js.map